以下是优化后的代码片段：

```yaml
linters:
  disable:
    - contextcheck
    - gofumpt
  enable:
    - goheader
    - gosimple
    - importas
    - misspell
    - unconvert
  presets:
    - bugs
    - format
    - import
    - unused

linters-settings:
  depguard:
    rules:
      everything:
        list-mode: lax
        allow:
          - go.opentelemetry.io/otel/semconv/v1.27.0
        deny:
          - pkg: go.opentelemetry.io/otel/semconv
            desc: Use "go.opentelemetry.io/otel/semconv/v1.27.0" instead.

          - pkg: io/ioutil
            desc: |
              Use the "io" and "os" packages instead.
              See https://go.dev/doc/go1.16#ioutil

      not-tests:
        files: ['!*_test.go']
        deny:
          - pkg: net/http/httptest
            desc: Should be used only in tests.

          - pkg: testing/*
            desc: The "testing" packages should be used only in tests.

          - pkg: github.com/crunchydata/postgres-operator/internal/
```

主要优化点：
1. 将 `!$test` 修改为 `!*_test.go`，以匹配 Go 语言测试文件的命名约定。
2. 将 `desc` 字段的多行字符串改为使用 `|` 符号，以提高可读性。

以上优化保持了原有功能，同时提高了配置文件的可读性和一致性。